
<!--
    CHAT TEMPLATE - Ana Chat ArayÃ¼zÃ¼
    Bu template modern bir chat uygulamasÄ±nÄ±n kullanÄ±cÄ± arayÃ¼zÃ¼nÃ¼ tanÄ±mlar.
    Django template inheritance kullanarak base template'i geniÅŸletir.
-->
{% extends 'LeadTracker/base.html' %}
{% load static %}

{% block content %}
<!-- CSS DOSYASINI YÃœKLEME
   Harici CSS dosyasÄ±nÄ± yÃ¼kler. Bu dosya chat uygulamasÄ±nÄ±n tÃ¼m gÃ¶rsel stillerini iÃ§erir.
   Static files sistemi sayesinde Django development ve production'da doÄŸru yolu bulur.
-->
<link href="{% static 'css/chat.css' %}" rel="stylesheet">

<!-- GÄ°ZLÄ° CSRF TOKEN FORMU
   Django'nun Cross-Site Request Forgery (CSRF) korumasÄ± iÃ§in gereklidir.
   JavaScript ile AJAX istekleri yaparken bu token kullanÄ±lÄ±r.
   Form gÃ¶rÃ¼nÃ¼r deÄŸildir Ã§Ã¼nkÃ¼ sadece token almak iÃ§in kullanÄ±lÄ±r.
-->
<form style="display: none;">
    {% csrf_token %}
</form>

<!--
    ANA CHAT KAPSAYICI
    TÃ¼m chat uygulamasÄ±nÄ±n ana konteyneri.
    Ä°Ã§inde sidebar (kullanÄ±cÄ± listesi) ve chat alanÄ± bulunur.
    Responsive tasarÄ±m iÃ§in esnek dÃ¼zen kullanÄ±r.
-->
<div class="chat-container">
    <!-- MOBILE OVERLAY
       Mobil cihazlarda sidebar aÃ§Ä±ldÄ±ÄŸÄ±nda arka planÄ± kaplar.
       TÄ±klanabilir alan oluÅŸturarak sidebar'Ä± kapatmayÄ± saÄŸlar.
       Desktop'ta gÃ¶rÃ¼nmez, sadece mobil'de aktif olur.
    -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- SOL SIDEBAR - KULLANICI LÄ°STESÄ°
       Chat uygulamasÄ±nÄ±n sol tarafÄ±ndaki panel.
       KullanÄ±labilir kullanÄ±cÄ±larÄ± listeler ve online durumlarÄ±nÄ± gÃ¶sterir.
       Mobil cihazlarda hamburger menÃ¼ ile aÃ§Ä±lÄ±r/kapanÄ±r.
    -->
    <div class="sidebar">
        <!-- SIDEBAR BAÅžLIÄžI
           Chat baÅŸlÄ±ÄŸÄ± ve mevcut kullanÄ±cÄ±nÄ±n bilgilerini iÃ§erir.
           Mobil cihazlarda kapatma butonu (âœ•) otomatik olarak eklenir.
        -->
        <div class="sidebar-header">
            <h3>Chat</h3>
            <div class="user-info">Welcome, {{ user.get_full_name|default:user.username }}</div>
        </div>

        <!-- KULLANICI LÄ°STESÄ° KAPSAYICI
           JavaScript ile dinamik olarak doldurulacak kullanÄ±cÄ± listesi.
           Her kullanÄ±cÄ± iÃ§in avatar, isim ve online durumu gÃ¶sterilir.
           TÄ±klanabilir Ã¶ÄŸeler ile chat baÅŸlatma iÅŸlemi yapÄ±lÄ±r.
        -->
        <div class="users-list" id="usersList">
            <!-- Users will be loaded here -->
        </div>
    </div>

    <!-- ANA CHAT ALANI
       Chat uygulamasÄ±nÄ±n saÄŸ tarafÄ±ndaki ana bÃ¶lÃ¼m.
       SeÃ§ili kullanÄ±cÄ± ile mesajlaÅŸma arayÃ¼zÃ¼nÃ¼ iÃ§erir.
    -->
    <div class="chat-area">
        <!-- CHAT BAÅžLIÄžI
           SeÃ§ili kullanÄ±cÄ±nÄ±n bilgilerini ve durumunu gÃ¶sterir.
           Mobil cihazlarda hamburger menÃ¼ butonu bulunur.
           Avatar, isim ve online durumu gÃ¶rÃ¼ntÃ¼lenir.
        -->
        <div class="chat-header">
            <button class="mobile-menu-btn" id="mobileMenuBtn">â˜°</button>
            <img id="chatHeaderAvatar" class="chat-header-avatar" src="/media/profile_pictures/default_avatar_JxNUiAn.jpg" alt="Avatar">
            <div class="chat-header-info">
                <h4 id="chatTitle">Select User</h4>
                <div class="status" id="chatStatus">
                    <span class="status-dot offline"></span>
                    Offline
                </div>
            </div>
        </div>

        <!-- MESAJLAR ALANI
           TÃ¼m mesajlarÄ±n gÃ¶rÃ¼ntÃ¼lendiÄŸi kaydÄ±rÄ±labilir alan.
           Yeni mesajlar otomatik olarak en alta eklenir.
           BaÅŸlangÄ±Ã§ta hoÅŸgeldin mesajÄ± gÃ¶sterilir.
        -->
        <div class="chat-messages" id="messagesContainer">
            <div class="welcome-message">
                <h3>Chat Application</h3>
                <p>Select a user from the left to start chatting.</p>
            </div>
        </div>

        <!-- YAZMA GÃ–STERGESÄ°
           KarÅŸÄ± taraf yazarken gÃ¶rÃ¼nÃ¼r olan animasyonlu gÃ¶sterge.
           Sabit konumda, mesaj giriÅŸ alanÄ±nÄ±n Ã¼zerinde durur.
           ÃœÃ§ nokta animasyonu ile yazma efektini simgeler.
        -->
        <div class="typing-indicator-fixed" id="typingIndicator">
            <div class="typing-text">
                <span>The other side is typing</span>
                <div class="typing-dots">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            </div>
        </div>

        <!-- MESAJ GÄ°RÄ°Åž ALANI
           KullanÄ±cÄ±nÄ±n mesaj yazÄ±p gÃ¶nderdiÄŸi bÃ¶lÃ¼m.
           BaÅŸlangÄ±Ã§ta gizli, kullanÄ±cÄ± seÃ§ildiÄŸinde gÃ¶rÃ¼nÃ¼r olur.
           Emoji seÃ§ici, otomatik boyutlandÄ±rma ve gÃ¶nderme butonu iÃ§erir.
        -->
        <div class="chat-input" id="messageInputArea" style="display: none;">
            <div class="message-input-container">
                <!-- METÄ°N GÄ°RÄ°Åž ALANI
                   Ã‡ok satÄ±rlÄ± mesaj yazma alanÄ±.
                   Otomatik boyutlandÄ±rma, maksimum karakter limiti.
                   Enter ile gÃ¶nderme, emoji butonu entegrasyonu.
                -->
                <textarea
                    class="message-input"
                    id="messageInput"
                    placeholder="Type your message..."
                    maxlength="500"
                    rows="1"
                ></textarea>

                <!-- EMOJI BUTONU
                   Emoji seÃ§iciyi aÃ§ar/kapar.
                   Mutlak konumlandÄ±rÄ±lmÄ±ÅŸ, giriÅŸ alanÄ±nÄ±n saÄŸ tarafÄ±nda.
                   Hover efektleri ve tÄ±klama iÅŸlevselliÄŸi.
                -->
                <button class="emoji-btn" id="emojiBtn" title="Add Emoji">ðŸ˜Š</button>

                <!-- EMOJI SEÃ‡Ä°CÄ° POPUP
                   Emoji seÃ§imi iÃ§in aÃ§Ä±lÄ±r pencere.
                   Grid dÃ¼zeninde emoji listesi, otomatik konumlandÄ±rma.
                   Mobil ve desktop iÃ§in farklÄ± boyutlandÄ±rma.
                -->
                <div class="emoji-picker" id="emojiPicker">
                    <div class="emoji-grid" id="emojiGrid">
                        <!-- Emojis will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- GÃ–NDERME BUTONU
               MesajÄ± gÃ¶ndermek iÃ§in kullanÄ±lÄ±r.
               BoÅŸ mesajlarda devre dÄ±ÅŸÄ± kalÄ±r.
               FontAwesome ikonu ve hover efektleri iÃ§erir.
            -->
            <button class="send-btn" id="sendBtn" disabled>
                <i class="fas fa-paper-plane"></i> Send
            </button>
        </div>
    </div>
</div>

<!-- JAVASCRIPT DOSYASINI YÃœKLEME
   Chat uygulamasÄ±nÄ±n tÃ¼m etkileÅŸimlerini yÃ¶neten JavaScript kodu.
   Harici dosya olarak yÃ¼klenir, bÃ¶ylece daha iyi performans ve bakÄ±m saÄŸlar.
   DOM manipÃ¼lasyonu, API Ã§aÄŸrÄ±larÄ±, olay dinleyicileri iÃ§erir.
-->
<script src="{% static 'js/chat.js' %}"></script>

{% endblock %}

